<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gabarito da Prova - Estruturas de Dados II</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }
        h1, h2, h3, h4 {
            color: #2c3e50;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
        }
        h1 {
            text-align: center;
            font-size: 2em;
        }
        h2 {
            font-size: 1.6em;
            margin-top: 40px;
        }
        h3 {
            font-size: 1.3em;
            border: none;
            color: #34495e;
        }
        strong {
            color: #c0392b;
        }
        code {
            background-color: #eee;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
        }
        .justification {
            background-color: #ecf0f1;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .correct-answer {
            font-weight: bold;
            color: #27ae60;
            background-color: #e8f5e9;
            padding: 10px;
            border-radius: 5px;
            display: inline-block;
        }
        .question-box {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            margin-top: 15px;
            margin-bottom: 25px;
            font-family: 'Georgia', serif;
        }
        .question-box p, .question-box li {
            margin: 8px 0;
        }

        /* Estilos para a Árvore */
        .tree-container {
            text-align: center;
            margin: 20px 0;
            overflow-x: auto;
            padding: 20px 0;
        }
        .tree ul {
            padding-top: 20px;
            position: relative;
            transition: all 0.5s;
            display: flex;
            justify-content: center;
        }
        .tree li {
            float: left;
            text-align: center;
            list-style-type: none;
            position: relative;
            padding: 20px 5px 0 5px;
            transition: all 0.5s;
        }
        .tree li::before, .tree li::after {
            content: '';
            position: absolute;
            top: 0;
            right: 50%;
            border-top: 2px solid #ccc;
            width: 50%;
            height: 20px;
        }
        .tree li::after {
            right: auto;
            left: 50%;
            border-left: 2px solid #ccc;
        }
        .tree li:only-child::after, .tree li:only-child::before {
            display: none;
        }
        .tree li:only-child {
            padding-top: 0;
        }
        .tree li:first-child::before, .tree li:last-child::after {
            border: 0 none;
        }
        .tree li:last-child::before {
            border-right: 2px solid #ccc;
            border-radius: 0 5px 0 0;
        }
        .tree li:first-child::after {
            border-radius: 5px 0 0 0;
        }
        .tree ul ul::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            border-left: 2px solid #ccc;
            width: 0;
            height: 20px;
        }
        .tree li span {
            border: 2px solid #ccc;
            padding: 10px;
            text-decoration: none;
            color: #333;
            font-size: 1.1em;
            display: inline-block;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            line-height: 25px;
            background-color: #fff;
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Gabarito da Prova - Estruturas de Dados II</h1>

        <section id="q1">
            <h2>Questão 1 (1.0 ponto)</h2>
            <div class="question-box">
                <p>Considerando m o número de nós da árvore, responda às seguintes perguntas:</p>
                <p><strong>a)</strong> Qual é a complexidade no pior caso das operações de busca, inserção e remoção em uma árvore binária de busca não balanceada? Justifique brevemente.</p>
                <p><strong>b)</strong> Considerando que a árvore da Questão 1 é balanceada, qual seria a complexidade assintótica para as mesmas operações?</p>
                <p><strong>c)</strong> Explique por que, na prática, uma ABB balanceada (como uma AVL) tende a ter desempenho melhor do que uma ABB não balanceada.</p>
            </div>
            <h3>Respostas:</h3>
            <h4>a) Complexidade da ABB Não Balanceada</h4>
            <p>A complexidade no pior caso é <strong><code>O(n)</code></strong> para busca, inserção e remoção.</p>
            <div class="justification">
                <strong>Justificativa:</strong> No pior caso, a árvore torna-se degenerada (semelhante a uma lista encadeada), o que ocorre quando os dados são inseridos em ordem. Com uma altura de <code>h ≈ n</code>, é necessário percorrer quase todos os nós para realizar uma operação.
            </div>

            <h4>b) Complexidade da ABB Balanceada</h4>
            <p>A complexidade assintótica seria <strong><code>O(log n)</code></strong> para as mesmas operações.</p>

            <h4>c) Vantagem da ABB Balanceada</h4>
            <p>Uma ABB balanceada usa rotações para garantir que sua altura seja sempre logarítmica (<code>h = O(log n)</code>), impedindo a formação de árvores degeneradas. Isso garante um desempenho rápido e previsível, ao contrário da não balanceada, cujo desempenho pode se degradar para linear (<code>O(n)</code>).</p>
        </section>

        <section id="q2">
            <h2>Questão 2 (1.0 ponto)</h2>
            <div class="question-box">
                <p>Considere a seguinte sequência de valores inseridos em uma árvore binária de busca nesta ordem: <code>[51, 31, 21, 26, 11, 41, 36, 38, 46, 72, 61, 56, 66, 82]</code>.</p>
                <p><strong>a)</strong> Construa a árvore binária de busca resultante.</p>
                <p><strong>b)</strong> Escreva as sequências de nós visitados para os percursos pré-ordem e pós-ordem.</p>
            </div>
            <h3>Respostas:</h3>
            <h4>a) Árvore Binária de Busca resultante:</h4>
            <div class="tree-container">
                <div class="tree">
                    <ul>
                        <li>
                            <span>51</span>
                            <ul>
                                <li>
                                    <span>31</span>
                                    <ul>
                                        <li>
                                            <span>21</span>
                                            <ul>
                                                <li><span>11</span></li>
                                                <li><span>26</span></li>
                                            </ul>
                                        </li>
                                        <li>
                                            <span>41</span>
                                            <ul>
                                                <li>
                                                    <span>36</span>
                                                    <ul><li><span>38</span></li></ul>
                                                </li>
                                                <li><span>46</span></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <span>72</span>
                                    <ul>
                                        <li>
                                            <span>61</span>
                                            <ul>
                                                <li><span>56</span></li>
                                                <li><span>66</span></li>
                                            </ul>
                                        </li>
                                        <li><span>82</span></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <h4>b) Percursos Pré-ordem e Pós-ordem:</h4>
            <p><strong>Pré-ordem:</strong> <code>51, 31, 21, 11, 26, 41, 36, 38, 46, 72, 61, 56, 66, 82</code></p>
            <p><strong>Pós-ordem:</strong> <code>11, 26, 21, 38, 36, 46, 41, 31, 56, 66, 61, 82, 72, 51</code></p>
        </section>

        <section id="q3">
            <h2>Questão 3 (Nomeada como 2 na prova) (1.0 ponto)</h2>
             <div class="question-box">
                <p>Com base na árvore construída na Questão 2, remova os nós 11, 31 e 72, nesta ordem, reconstruindo a árvore a cada remoção.</p>
                <p><strong>a)</strong> Mostre o resultado final da árvore após as duas remoções.</p>
                <p><strong>b)</strong> Escreva novamente o percurso em-ordem da árvore resultante.</p>
            </div>
            <h3>Respostas:</h3>
            <h4>a) Resultado final da árvore após as remoções:</h4>
            <div class="tree-container">
                <div class="tree">
                     <ul>
                        <li>
                            <span>51</span>
                            <ul>
                                <li>
                                    <span>36</span>
                                    <ul>
                                        <li>
                                            <span>21</span>
                                            <ul><li><span>26</span></li></ul>
                                        </li>
                                        <li>
                                            <span>41</span>
                                            <ul><li><span>38</span></li></ul>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <span>82</span>
                                     <ul>
                                        <li>
                                            <span>61</span>
                                            <ul>
                                                <li><span>56</span></li>
                                                <li><span>66</span></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <h4>b) Novo percurso em-ordem:</h4>
            <p><code>21, 26, 36, 38, 41, 51, 56, 61, 66, 82</code></p>
        </section>

        <section id="q6">
            <h2>Questão 6 (1.0 ponto)</h2>
            <div class="question-box">
                <p>Suponha que uma Árvore Binária de Busca possui números entre 1 e 1000 e que se quer procurar pelo número 363. Qual sequência abaixo <strong>NÃO</strong> poderia ser a sequência de nós examinados?</p>
                <ul>
                    <li>a) ( ) 2, 252, 401, 398, 330, 344, 397, 363.</li>
                    <li>b) ( ) 924, 220, 911, 244, 898, 258, 362, 363.</li>
                    <li>c) ( ) 2, 399, 387, 219, 266, 382, 381, 278, 363.</li>
                    <li>d) ( ) 925, 202, 911, 240, 912, 245, 363.</li>
                    <li>e) ( ) 935, 278, 347, 621, 350, 392, 358, 363.</li>
                </ul>
            </div>
            <h3>Resposta:</h3>
            <p class="correct-answer">Resposta Correta: d) ( ) 925, 202, 911, 240, 912, 245, 363.</p>
            <div class="justification">
                <strong>Justificativa:</strong>
                <ol>
                    <li>Busca por <strong>363</strong> em <strong>925</strong> -> vai para a esquerda (próximo nó deve ser < 925).</li>
                    <li>Em <strong>202</strong> -> vai para a direita (próximo nó deve ser > 202).</li>
                    <li>Em <strong>911</strong> -> vai para a esquerda (próximo nó deve ser < 911).</li>
                    <li>Em <strong>240</strong> -> vai para a direita (próximo nó deve ser > 240).</li>
                    <li>Chega em <strong>912</strong>. <strong>VIOLAÇÃO!</strong> O nó atual (912) viola a condição estabelecida no passo 3, pois 912 não é menor que 911. Portanto, este caminho de busca é impossível em uma ABB válida.</li>
                </ol>
            </div>
        </section>
        
        <section id="q4-5-status">
            <h2>Questões 4 e 5 (AVL)</h2>
            <div class="question-box">
                <p><strong>Questão 4 (2.0 pontos):</strong> Considere que os seguintes valores foram inseridos nesta ordem em uma Árvore AVL inicialmente vazia: <code>[50, 31, 72, 21, 41, 36, 38, 46, 61, 56, 67, 85]</code>.</p>
                <ul>
                    <li>a) Construa a árvore AVL após cada inserção, mostrando o fator de balanceamento (FB) de cada nó.</li>
                    <li>b) Sempre que houver desbalanceamento (|FB| > 1), aplique a rotação apropriada (simples ou dupla) e redesenhe a árvore corrigida.</li>
                    <li>c) Ao final de todas as inserções, apresente a árvore AVL final e o fator de balanceamento de cada nó.</li>
                </ul>
                <hr>
                <p><strong>Questão 5 (1.0 ponto):</strong> Utilize a árvore AVL final obtida na Questão 4 e remova os nós na seguinte ordem: 41, 72, 50.</p>
                 <ul>
                    <li>a) Após cada remoção, recalcule o fator de balanceamento de todos os nós e aplique as rotações necessárias para manter a propriedade AVL.</li>
                    <li>b) Apresente a árvore resultante ao final de cada remoção.</li>
                    <li>c) Indique, para cada etapa, quais rotações foram utilizadas.</li>
                </ul>
            </div>
            <p class="justification"><strong>Status:</strong> A resolução detalhada para estas questões, que envolvem a manipulação passo a passo da árvore AVL, será fornecida a seguir para garantir total precisão.</p>
        </section>
    </div>
</body>
</html>
